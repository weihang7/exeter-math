(function(){var a,b,c,d,e,f,g,h,i,j;d=[],h=[],a=$("#add_individual"),b=$("#add_team"),i=$("#teams_list"),e=$("#individuals_list"),j=$("#user"),g=$("#submit"),f=function(){return g.text("Save"),g.removeAttr("disabled")},c=function(a,b){var c,d,e;return d=$("<input class='form-control' placeholder='"+b+"'>").change(f),e=$("<span class='input-group-addon'>"+a+"</span>"),c=$("<div class='input-group'>"),c.append(e).append(d),{group:c,input:d}},b.click(function(){return f(),$.ajax({url:"/create_team",dataType:"json",success:function(a){var b,d,e,g,j,k,l,m,n,o,p;for(g=[],d=l=1;4>=l;d=++l)g.push(c(d.toString(),"John Smith"));for(j=c("Team Name","Hogwarts A"),j.input.on("input",f),b=$("<button class='btn btn-danger' data-id='"+a.id+"'>Delete</button>"),b.click(function(a){var b,c,e;for(b=$(a.target).data("id"),d=c=0,e=h.length;e>=0?e>c:c>e;d=e>=0?++c:--c)if(b===h[d].id){h.splice(d,1);break}return $(a.target).parent().remove(),f()}),h.push({name:j.input,members:g.map(function(a){return a.input}),id:a.id}),k=$('<div class="form-group">'),m=0,o=g.length;o>m;m++)e=g[m],e.group.css("margin-left","30px");for(k.append(j.group),n=0,p=g.length;p>n;n++)e=g[n],k.append(e.group);return k.append(b),i.append(k)}})}),a.click(function(){var a;return a=c("Individual","John Smith"),a.input.on("input",f),d.push(a.input),e.append(a.group)}),g.click(function(){var a,b,c,e,f,i,k,l,m,n,o,p,q;for(c=[],i=[],k=0,n=h.length;n>k;k++){for(e=h[k],f=e.name.val(),q=e.members,l=0,o=q.length;o>l;l++)b=q[l],c.push({name:b.val(),team:e.id});i.push({name:f,id:e.id})}for(m=0,p=d.length;p>m;m++)a=d[m],c.push({name:a.val(),team:-1});return $.ajax({url:"/edit_info",data:{user:j.val(),teams:JSON.stringify(i),individuals:JSON.stringify(c)},success:function(){return g.text("Saved"),g.attr("disabled","")},error:function(){return location.href="login.html"}})}),$.ajax({url:"/list",dataType:"json",success:function(a){var b,g,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C;z=a.teams;for(q in z){for(p=z[q],p.members.length=Math.max(p.members.length,4),p.members.sort().reverse(),m=[],A=p.members,g=r=0,v=A.length;v>r;g=++r)l=A[g],m.push(k=c((g+1).toString(),"John Smith")),null!=l&&k.input.val(l.name),k.input.on("input",f);for(n=c("Team Name","Hogwarts A"),n.input.val(p.name),n.input.on("input",f),b=$("<button class='btn btn-danger' data-id='"+Number(q)+"'>Delete</button>"),b.click(function(a){var b,c,d;for(b=$(a.target).data("id"),g=c=0,d=h.length;d>=0?d>c:c>d;g=d>=0?++c:--c)if(b===h[g].id){h.splice(g,1);break}return $(a.target).parent().remove(),f()}),h.push({name:n.input,members:m.map(function(a){return a.input}),id:Number(q)}),o=$('<div class="form-group">'),s=0,w=m.length;w>s;s++)k=m[s],k.group.css("margin-left","30px");for(o.append(n.group),t=0,x=m.length;x>t;t++)k=m[t],o.append(k.group);o.append(b),i.append(o)}for(B=a.individuals,C=[],u=0,y=B.length;y>u;u++)j=B[u],k=c("Individual","John Smith"),k.input.val(j.name),k.input.on("input",f),d.push(k.input),C.push(e.append(k.group));return C},error:function(){return location.href="login.html"}})}).call(this);
//# sourceMappingURL=register_team.min.js.map