(function(){var a,b,c,d,e,f,g,h,i,j,k;"true"===localStorage.isAdmin&&$("#register-buttons").show(),d=[],i=[],a=$("#add_individual"),b=$("#add_team"),j=$("#teams_list"),e=$("#individuals_list"),k=$("#user"),h=$("#submit"),f=function(){return h.text("Save"),h.removeAttr("disabled")},c=function(a,b){var c,d,e;return d=$("<input class='form-control' placeholder='"+b+"'>").change(f),e=$("<span class='input-group-addon'>"+a+"</span>"),c=$("<div class='input-group'>"),c.append(e).append(d),{group:c,input:d}},b.click(function(){return f(),$.ajax({url:"/create_team",dataType:"json",success:function(a){var b,d,e,g,h,k,l,m,n,o,p;for(n=[],d=g=1;4>=g;d=++g)n.push(c(d.toString(),"John Smith"));for(o=c("Team Name","Hogwarts A"),o.input.on("input",f),b=$("<button class='btn btn-danger' data-id='"+a.id+"'>Delete</button>"),b.click(function(a){var b,c,e;for(b=$(a.target).data("id"),d=c=0,e=i.length;e>=0?e>c:c>e;d=e>=0?++c:--c)if(b===i[d].id){i.splice(d,1);break}return $(a.target).parent().remove(),f()}),i.push({name:o.input,members:n.map(function(a){return a.input}),id:a.id}),p=$('<div class="form-group">'),h=0,l=n.length;l>h;h++)e=n[h],e.group.css("margin-left","30px");for(p.append(o.group),k=0,m=n.length;m>k;k++)e=n[k],p.append(e.group);return p.append(b),j.append(p)}})}),g=function(a){var b,g;return g=c("Individual","John Smith"),g.input.on("input",f),g.input.val(a),d.push(g.input),b=$("<span class='input-group-addon btn btn-danger'> <span class='glyphicon glyphicon-remove'></span> </span>"),b.click(function(a){var b;return b=$(a.target).attr("id"),d.splice(b,1),$(a.target).parent().parent().remove(),f()}),g.group.attr("id",d.length),g.group.prepend(b),e.append(g.group)},a.click(function(){return g()}),h.click(function(){var a,b,c,e,f,g,j,l,m,n,o,p,q;for(m=[],q=[],b=0,f=i.length;f>b;b++){for(o=i[b],p=o.name.val(),n=o.members,c=0,g=n.length;g>c;c++)l=n[c],m.push({name:l.val(),team:o.id});q.push({name:p,id:o.id})}for(e=0,j=d.length;j>e;e++)a=d[e],m.push({name:a.val(),team:-1});return $.ajax({url:"/edit_info",data:{user:k.val(),teams:JSON.stringify(q),individuals:JSON.stringify(m)},success:function(){return h.text("Saved"),h.attr("disabled","")},error:function(){return location.href="login.html"}})}),$.ajax({url:"/list",dataType:"json",success:function(a){var b,d,e,h,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B;w=a.teams;for(B in w){for(A=w[B],A.members.length=Math.max(A.members.length,4),A.members.sort().reverse(),t=[],x=A.members,d=k=0,n=x.length;n>k;d=++k)s=x[d],t.push(h=c((d+1).toString(),"John Smith")),null!=s&&h.input.val(s.name),h.input.on("input",f);for(u=c("Team Name","Hogwarts A"),u.input.val(A.name),u.input.on("input",f),b=$("<button class='btn btn-danger' data-id='"+Number(B)+"'>Delete</button>"),b.click(function(a){var b,c,e;for(b=$(a.target).data("id"),d=c=0,e=i.length;e>=0?e>c:c>e;d=e>=0?++c:--c)if(b===i[d].id){i.splice(d,1);break}return $(a.target).parent().remove(),f()}),i.push({name:u.input,members:t.map(function(a){return a.input}),id:Number(B)}),v=$('<div class="form-group">'),l=0,o=t.length;o>l;l++)h=t[l],h.group.css("margin-left","30px");for(v.append(u.group),m=0,p=t.length;p>m;m++)h=t[m],v.append(h.group);v.append(b),j.append(v)}for(y=a.individuals,z=[],r=0,q=y.length;q>r;r++)e=y[r],z.push(g(e.name));return z},error:function(){return location.href="login.html"}})}).call(this);
//# sourceMappingURL=register_team.min.js.map